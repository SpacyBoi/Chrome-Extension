<header class="header"><a class="header__back-btn" ui-sref="reminders.list" ui-sref-opts="{ custom: { backward: true } }">{{ 'header_back' | i18n }}</a><div class="header__title" ng-if="!isEditing()">{{ 'reminder_newPageTitle' | i18n }}</div><div class="header__title" ng-if="isEditing()">{{ 'reminder_editPageTitle' | i18n }}</div><a class="header__action-btn" ng-class="{ 'header__action-btn_disabled': !isFormValid(reminderForm) }" ng-click="done()" ng-if="!isEditing()">{{ 'header_done' | i18n }}</a> <a class="header__action-btn" ng-class="{ 'header__action-btn_disabled': !isFormValid(reminderForm) }" ng-click="save()" ng-if="isEditing()">{{ 'header_save' | i18n }}</a></header><div class="content"><form name="reminderForm" novalidate><fieldset class="fieldset"><legend>{{ 'reminder_type' | i18n }}</legend><div class="fieldset__field fieldset__field_radio"><input id="text-reminder" type="radio" name="reminderType" value="{{ types.TEXT }}" ng-model="reminder.type"><label for="text-reminder" class="fieldset__field-label">{{ 'reminder_type_text' | i18n }}</label></div><div class="fieldset__field fieldset__field_radio"><input id="text-notification-reminder" type="radio" name="reminderType" value="{{ types.NOTIFICATION }}" ng-model="reminder.type"><label for="text-notification-reminder" class="fieldset__field-label">{{ 'reminder_type_notification' | i18n }}</label></div><div class="fieldset__field fieldset__field_radio"><input id="tab-reminder" type="radio" name="reminderType" value="{{ types.TAB }}" ng-model="reminder.type"><label for="tab-reminder" class="fieldset__field-label">{{ 'reminder_type_tab' | i18n }}</label></div><fieldset class="fieldset" ng-show="isText() || isNotification() || isTask()"><legend>{{ 'reminder_text' | i18n }}</legend><div class="fieldset__field"><textarea placeholder="{{ 'reminder_text_reminderText' | i18n }}" ng-model="reminder.text" ng-required="isText() || isNotification() || isTask()"></textarea></div><span class="fieldset__explanation" ng-if="isNotification()">{{ 'reminder_text_notificationExplanation' | i18n }} </span><span class="fieldset__explanation" ng-if="isTask()">{{ 'reminder_text_taskExplanation' | i18n }}</span></fieldset><fieldset class="fieldset" ng-show="isTab()"><legend>{{ 'reminder_tab' | i18n }}</legend><div class="fieldset__field fieldset__field_group"><label class="fieldset__field-label" for="tab-address">{{ urlProtocol }}</label><input id="tab-address" type="text" placeholder="{{ 'reminder_tab_urlAddress' | i18n }}" autocomplete="off" ng-model="reminder.url" ng-required="isTab()" url-transformer></div><div class="fieldset__field fieldset__field_checkbox"><label class="fieldset__field-label">{{ 'reminder_tab_makeTabActive' | i18n }}</label><label class="checkbox"><input type="checkbox" checked="" ng-model="reminder.activeTab"> <span></span></label></div><span class="fieldset__explanation">{{ 'reminder_tabExplanation' | i18n }}</span></fieldset><fieldset class="fieldset" ng-show="isNotification() || isTab() || isTask()"><div class="fieldset__field"><label class="fieldset__field-label" ng-if="isNotification() || isTask()">{{ 'reminder_alarm_showAt' | i18n }}</label><label class="fieldset__field-label" ng-if="isTab()">{{ 'reminder_alarm_openAt' | i18n }}</label><input type="datetime-local" name="activateAt" ng-model="reminder.activateAt" ng-required="isNotification() || isTab()" datetime-transformer></div><div class="fieldset__field" ng-class="{ 'fieldset__field_disabled': isTask() }"><a ui-sref="{{ isEditing() ? 'reminders.edit.repeat' : 'reminders.new.repeat' }}"><label class="fieldset__field-label">{{ 'reminder_alarm_repeat' | i18n }}</label><span class="fieldset__field-value">{{ 'reminder_alarm_repeat_' + reminder.repeat | i18n }}</span></a></div><span class="fieldset__explanation" ng-if="isNotification()">{{ 'reminder_alarm_notificationExplanation' | i18n }} </span><span class="fieldset__explanation" ng-if="isTab()">{{ 'reminder_alarm_tabExplanation' | i18n }} </span><span class="fieldset__explanation" ng-if="isTask()">{{ 'reminder_alarm_taskExplanation' | i18n }}</span></fieldset><fieldset class="fieldset" ng-show="isNotification() || isTab() || isTask()"><legend>{{ 'reminder_settings' | i18n }}</legend><div class="fieldset__field fieldset__field_checkbox"><label class="fieldset__field-label">{{ 'reminder_settings_sound' | i18n }}</label><label class="checkbox"><input type="checkbox" ng-model="reminder.sound" ng-change="playSound()"> <span></span></label></div><div class="fieldset__field fieldset__field_checkbox" ng-class="{ 'fieldset__field_disabled': reminder.repeat != repeatPeriods.NEVER.value }"><label class="fieldset__field-label">{{ 'reminder_settings_removeAfterActivation' | i18n }}</label><label class="checkbox"><input type="checkbox" ng-model="reminder.autoRemove"> <span></span></label></div><span class="fieldset__explanation">{{ 'reminder_settingsExplanation' | i18n }}</span></fieldset><fieldset class="fieldset"><legend>{{ 'reminder_priority' | i18n }}</legend><div class="fieldset__field fieldset__field_priority"><div class="priority-control priority-control_{{ name | lowercase }}" ng-repeat="(name, value) in priorities" title="{{ 'reminder_priority_' + name | i18n }}"><input id="priority-{{ name | lowercase }}" type="radio" name="priorityOption" value="{{ value }}" ng-model="reminder.priority"><label for="priority-{{ name | lowercase }}"></label></div></div><span class="fieldset__explanation">{{ 'reminder_priorityExplanation' | i18n }}</span></fieldset></form></div>